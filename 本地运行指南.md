# 前端项目本地运行指南

## 前置要求

1. **Node.js** - 版本建议 v14 或更高
   - 下载地址：https://nodejs.org/
   - 安装后验证：`node --version` 和 `npm --version`

## 运行步骤

### 1. 进入项目目录

```bash
cd Brook-Xu.github.io
```

### 2. 安装依赖

```bash
npm install
```

> 如果安装速度慢，可以使用国内镜像：
> ```bash
> npm install --registry=https://registry.npmmirror.com
> ```

### 3. 配置后端API地址（可选）

如果需要连接不同的后端服务器，可以创建 `.env` 文件：

在项目根目录（`Brook-Xu.github.io/`）创建 `.env` 文件：

```env
# 后端API基础URL（不包含 /api/auth）
VUE_APP_API_BASE_URL=http://localhost:3000/api/auth
```

**默认配置**：如果不创建 `.env` 文件，前端会默认连接到 `http://localhost:3000/api/auth`

### 4. 启动开发服务器

```bash
npm run dev
```

启动成功后：
- 浏览器会自动打开 `http://localhost:8080`
- 如果未自动打开，手动访问：http://localhost:8080
- 支持热重载，修改代码后会自动刷新

**重要提示**：
- 如果修改了 `webpack.config.js` 或 `.env` 文件，需要**重启开发服务器**才能生效
- 停止服务器：按 `Ctrl + C`，然后重新运行 `npm run dev`

### 5. 停止服务器

在终端按 `Ctrl + C` 停止开发服务器

## 其他命令

### 构建生产版本

```bash
npm run build
```

构建完成后，文件会输出到 `dist/` 目录

### 部署到GitHub Pages

```bash
npm run deploy
```

## 常见问题

### 1. 端口被占用

如果 8080 端口被占用，可以修改 `webpack.config.js` 中的端口配置：

```javascript
devServer: {
  port: 8081, // 改为其他端口
  // ...
}
```

### 2. 依赖安装失败

- 清除缓存：`npm cache clean --force`
- 删除 `node_modules` 和 `package-lock.json`，重新安装
- 使用 yarn：`yarn install`

### 3. 无法连接后端API

- 确保后端服务已启动（默认端口 3000）
- 检查 `.env` 文件中的 `VUE_APP_API_BASE_URL` 配置
- 检查浏览器控制台的网络请求错误

### 4. 出现 "process is not defined" 错误

- 这通常是因为修改了 `webpack.config.js` 后没有重启服务器
- 解决方法：停止服务器（Ctrl + C），然后重新运行 `npm run dev`
- 确保 `webpack.config.js` 中已配置 `DefinePlugin`（已自动配置）

### 4. 页面空白或报错

- 打开浏览器开发者工具（F12）查看控制台错误
- 检查 Node.js 版本是否符合要求
- 尝试删除 `node_modules` 重新安装依赖

## 项目结构说明

```
Brook-Xu.github.io/
├── src/              # 源代码目录
│   ├── components/  # Vue组件
│   ├── services/    # API服务
│   ├── utils/       # 工具函数
│   ├── locales/     # 国际化文件
│   └── main.js      # 入口文件
├── public/           # 静态资源
├── dist/            # 构建输出（运行 build 后生成）
├── webpack.config.js # Webpack配置
└── package.json     # 项目配置和依赖
```

## 开发提示

1. **热重载**：修改代码后会自动刷新页面
2. **路由模式**：项目使用 `history` 模式，开发时 webpack-dev-server 已配置 `historyApiFallback`
3. **国际化**：支持中英文切换，语言文件在 `src/locales/`
4. **API调用**：所有API调用都在 `src/services/` 目录下

